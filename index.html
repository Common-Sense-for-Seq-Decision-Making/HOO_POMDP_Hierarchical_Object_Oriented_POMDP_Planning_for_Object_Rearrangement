<!DOCTYPE html>
<html>
<head>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-49TJQWLWDQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-49TJQWLWDQ');
  </script>

  <meta charset="utf-8">
  <meta name="description" content="HOO-POMDP: Hierarchical Object-Oriented POMDP Planning for Object Rearrangement">
  <meta name="keywords" content="POMDP, planning, object rearrangement, embodied ai, hierarchical planning, HOO-POMDP, partial observability">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HOO-POMDP: Hierarchical Object-Oriented POMDP Planning for Object Rearrangement</title>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  
  <link rel="icon" href="./resources/favicon.ico">
  
  <script src="https://kit.fontawesome.com/006a5775d5.js" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <style>
    /* --- NEW Accordion Dropdown Styles --- */
    .section-toggle {
        font-size: 0.8rem;
        font-weight: normal;
        cursor: pointer;
        color: #3273dc; /* Bulma link color */
        margin-left: 15px;
        vertical-align: middle;
        text-decoration: none;
    }
    .section-toggle:hover {
        text-decoration: underline;
    }

    /* This is the new card container */
    .dropdown-item {
        margin-bottom: 1rem; /* Add spacing between dropdowns */
    }

    .dropdown-header {
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        padding: 15px 20px;
        
        display: flex;
        align-items: center; /* Vertically center icon and text */
        justify-content: space-between; /* Pushes icon to the right */

        background-color: #ffffff;
        border: 1px solid #dbdbdb;
        border-radius: 5px;
        box-shadow: 0 3px 5px rgba(0,0,0,0.03);
        
        transition: all 0.2s ease-in-out;
    }
    
    .dropdown-header:hover {
        background-color: #f9f9f9;
        box-shadow: 0 5px 8px rgba(0,0,0,0.05);
        transform: translateY(-2px);
    }
    
    /* Style the text part of the header to wrap properly */
    .header-text {
        flex-grow: 1; /* Allows text to take up available space */
        padding-right: 15px; /* Space between text and icon */
        /* This part is critical for mobile */
        word-break: break-word;
    }

    /* Style the icon */
    .dropdown-header .icon {
        flex-shrink: 0; /* Prevents icon from shrinking */
        transition: transform 0.2s ease-in-out;
        font-size: 1rem;
        color: #7a7a7a; /* Make icon a bit subtler */
    }

    /* Animate the icon when active */
    .dropdown-header.active .icon {
        transform: rotate(180deg);
    }
    .dropdown-header.active {
        background-color: #f5f5ff; /* Lightened active color */
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
    }

    .dropdown-content {
        display: none;
        padding: 20px 25px;
        background-color: #ffffff;
        border: 1px solid #dbdbdb;
        border-top: none; /* Avoid double border */
        
        /* Connect it to the header */
        margin-top: -1px; 
        border-radius: 0 0 5px 5px;
        
        /* Remove old border-left styles */
        margin-left: 0;
        border-left: none;
    }
    .dropdown-content p, .dropdown-content ul {
        font-size: 1rem;
        line-height: 1.6;

        /* --- THIS IS THE NEW FIX --- */
        white-space: normal;  /* Resets any 'nowrap' from conflicts */
        word-break: break-word; /* Forces long words/text to wrap */
    }
    
    /* --- FIX FOR BIBTEX OVERFLOW --- */
    pre, code {
        white-space: pre-wrap;  /* Allows preformatted text to wrap */
        word-break: break-all; /* Breaks long strings if necessary */
    }

    /* Keep specified images always visible */
    .visible-image {
        margin: 20px auto;
        display: block;
        max-width: 100%;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 5px;
    }

    /* Responsive images */
    img {
        max-width: 100%;
        height: auto;
    }
    
    /* Center the global toggle button */
    .global-toggle-container {
        text-align: center;
        padding: 10px 0;
    }

    /* Styles for new HTML results tables */
    .results-table-container {
        overflow-x: auto;
        margin: 25px 0;
    }
    .results-table {
        width: 100%;
        min-width: 1000px; /* Ensure table is wide enough to scroll */
        border-collapse: collapse;
        font-size: 0.85rem;
    }
    .results-table th, .results-table td {
        border: 1px solid #dbdbdb;
        padding: 8px 10px;
        text-align: center;
        vertical-align: middle;
    }
    .results-table th {
        background-color: #f5f5f5;
        font-weight: 600;
    }
    .results-table .domain-col {
        text-align: left;
        font-weight: 600;
        min-width: 80px;
    }
    .results-table .diff-col {
        font-weight: 600;
    }
    
    .results-table th[colspan] {
        background-color: #e0e0e0;
    }
    
    .table-caption {
        font-size: 0.9rem;
        font-style: italic;
        color: #555;
        margin-bottom: 10px;
        text-align: left;
    }

    /* Table Header Colors */
    .header-baselines { background-color: #ffcccc !important; } /* Light Red */
    .header-ours { background-color: #ccffcc !important; } /* Light Green */
    .header-ablations { background-color: #cceeff !important; } /* Light Blue */
    .header-oracles { background-color: #fff0b3 !important; } /* Light Yellow */

    /* NEW Color coding for HOO-POMDP */
    /* Scene Success (SS) - Turquoise */
    .ss-dark { background-color: #00A3A1; color: white; } /* >= 50 */
    .ss-med { background-color: #64D1C6; } /* 30-49 */
    .ss-light { background-color: #C8F1EA; } /* 15-29 */
    
    /* Object Success (OS) - Violet/Plum */
    .os-dark { background-color: #BBA0E5; } /* >= 75 */
    .os-med { background-color: #DCC4F6; } /* 60-74 */
    .os-light { background-color: #F4EBFC; } /* 40-59 */

    /* === Interactive HOO-POMDP Visualization Styles === */
    .hoo-interactive-container { max-width: 1200px; width: 100%; margin: 0 auto; }
    .hoo-title { text-align: center; color: #333; margin-bottom: 4px; font-size: 1.3em; font-weight: 700; }
    .hoo-subtitle { text-align: center; color: #777; font-size: 0.88em; margin-bottom: 16px; }
    .hoo-layout { display: flex; gap: 14px; align-items: stretch; justify-content: center; flex-wrap: wrap; }

    .hoo-env-panel, .hoo-belief-panel, .hoo-planner-panel {
        background: white; border-radius: 10px; padding: 16px 14px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        display: flex; flex-direction: column; align-items: center;
    }
    .hoo-env-panel { width: 340px; flex-shrink: 0; }
    .hoo-belief-panel { width: 240px; flex-shrink: 0; align-items: stretch; }
    .hoo-planner-panel { flex: 1; min-width: 380px; align-items: stretch; }

    .hoo-env-panel h4, .hoo-belief-panel h4, .hoo-planner-panel h4 {
        font-size: 0.75em; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; text-align: center;
    }

    .hoo-arrow { font-size: 1.6em; color: #ccc; align-self: center; padding: 0 4px; }

    .hoo-room, .hoo-object, .hoo-robot { cursor: pointer; transition: opacity 0.2s, filter 0.2s, transform 0.2s; }
    .hoo-room:hover { opacity: 0.9; }
    .hoo-object:hover, .hoo-robot:hover { filter: brightness(1.1); transform: scale(1.03); }

    .hoo-dimmed { opacity: 0.15 !important; }
    .hoo-highlighted { filter: drop-shadow(0 0 5px rgba(0,0,0,0.35)) !important; }

    .hoo-belief-bar { display: flex; align-items: center; gap: 6px; margin: 4px 0; font-size: 0.75em; color: #555; width: 100%; }
    .hoo-belief-bar-label { width: 55px; text-align: right; font-weight: 600; font-size: 0.9em; }
    .hoo-belief-bar-track { flex: 1; height: 12px; background: #eee; border-radius: 6px; overflow: hidden; }
    .hoo-belief-bar-fill { height: 100%; border-radius: 6px; transition: width 0.3s; }
    .hoo-belief-bar-val { width: 38px; font-size: 0.85em; font-weight: 600; text-align: right; }
    .hoo-belief-section { margin: 8px 0; padding: 8px 0; border-bottom: 1px solid #eee; transition: background 0.2s; }
    .hoo-belief-section:last-child { border-bottom: none; }
    .hoo-belief-title { font-size: 0.7em; font-weight: 700; color: #555; margin-bottom: 4px; }

    .hoo-flow-container { display: flex; flex-direction: column; gap: 10px; }
    .hoo-flow-stage {
        background: #f8f9ff; border-radius: 8px; padding: 10px 12px;
        border-left: 4px solid #5b6abf; transition: all 0.2s;
    }
    .hoo-flow-stage.active { background: #e8f5e9; border-left-color: #43a047; }
    .hoo-flow-stage.pending { background: #fff8e1; border-left-color: #ff9800; opacity: 0.7; }
    .hoo-flow-stage h5 { font-size: 0.72em; color: #666; text-transform: uppercase; margin-bottom: 4px; }
    .hoo-flow-content { font-size: 0.85em; color: #333; }
    .hoo-flow-arrow { text-align: center; color: #ccc; font-size: 1.1em; }

    .hoo-subgoal { display: inline-block; padding: 4px 10px; border-radius: 4px; font-weight: 600; font-size: 0.82em; margin: 2px; }
    .hoo-subgoal-move { background: #e3f2fd; color: #1565c0; }
    .hoo-subgoal-rotate { background: #f3e5f5; color: #7b1fa2; }
    .hoo-subgoal-pickplace { background: #e8f5e9; color: #2e7d32; }

    .hoo-tooltip {
        position: fixed; background: #333; color: white;
        padding: 8px 14px; border-radius: 6px; font-size: 0.82em;
        pointer-events: none; opacity: 0; transition: opacity 0.15s;
        z-index: 1000; max-width: 320px; line-height: 1.4;
    }
    .hoo-tooltip.visible { opacity: 1; }

    .hoo-legend { display: flex; flex-wrap: wrap; justify-content: center; margin-top: 12px; gap: 4px 14px; }
    .hoo-legend-item { display: flex; align-items: center; gap: 5px; font-size: 0.72em; color: #666; }
    .hoo-legend-dot { width: 11px; height: 11px; border-radius: 50%; }
    .hoo-legend-rect { width: 14px; height: 10px; border-radius: 2px; }

    .hoo-instructions { text-align: center; color: #999; font-size: 0.78em; margin-top: 10px; font-style: italic; }

    .hoo-ego-view {
        background: #1a1a1a; border-radius: 6px; padding: 6px;
        margin-top: 8px; display: flex; flex-direction: column; align-items: center;
    }
    .hoo-ego-label { font-size: 0.65em; color: #aaa; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.5px; }

    .hoo-room-label { font-size: 9px; fill: #666; font-weight: 600; }
    .hoo-path { stroke-dasharray: 5,3; opacity: 0.6; }
    .hoo-path-blocked { stroke: #e53935 !important; stroke-width: 3px; }
    .hoo-goal-marker { stroke-dasharray: 4,2; fill: none; }

    @media (max-width: 1100px) {
        .hoo-layout { flex-direction: column; align-items: center; }
        .hoo-arrow { transform: rotate(90deg); }
        .hoo-env-panel, .hoo-belief-panel, .hoo-planner-panel { width: 100%; max-width: 500px; }
    }

  </style>
</head>
<body>
  
<section class="hero">
  <div class="hero-body">
    <div class="container">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Hierarchical Object-Oriented POMDP Planning for Object Rearrangement</h1>
          <div class="is-size-4 publication-authors">
            <span class="author-block">
              <a href="https://www.linkedin.com/in/rajeshdm/">Rajesh Mangananvar</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <a href="https://web.engr.oregonstate.edu/~afern/">Alan Fern</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
              <a href="https://web.engr.oregonstate.edu/~tadepall/">Prasad Tadepalli</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 

              <br><br>
              <img src="./resources/OSU_horizontal_2C_O_over_B.png" width="20%" alt="Oregon State University Logo" style="width: 20%; min-width: 150px;">
            </span>
          </div>

          <h2 class="is-size-4 has-text-weight-bold has-text-success-dark mt-4 mb-4">
            Hierarchical planning framework for real-world robotic rearrangement: jointly optimizing exploration and manipulation to achieve 50-70% object success with only 60% detector realiability
          </h2>

          <div class="column has-text-centered">
            <div class="publication-links">
              <span class="link-block">
                <a href="./resources/POMDP_NeurIPS_SpaVLE.pdf"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://arxiv.org/pdf/2412.01348"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://anonymous.4open.science/r/ICML_POMDP_rearrangement-4460/"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section pt-0 pb-4">
    <div class="container global-toggle-container">
      <button id="global-toggle" class="button is-info is-rounded" data-action="expand">Expand All Sections</button>
    </div>
</section>

<section class="section pt-0">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-two-thirds">
        <h2 class="title is-2 has-text-centered">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            We present an online planning approach and a new benchmark dataset for solving multi-object rearrangement problems in partially observable, multi-room environments. Current object rearrangement solutions, primarily based on Reinforcement Learning or hand-coded planning methods, often lack adaptability to diverse challenges. To address this limitation, we propose a Hierarchical Object-Oriented Partially Observed Markov Decision Process (HOO-POMDP) planner that leverages object-factored belief representations for efficient multi-object rearrangement. This approach comprises of (a) an object-oriented POMDP planner generating sub-goals, (b) a set of low-level policies for sub-goal achievement, and (c) an abstraction system converting the continuous low-level world into a representation suitable for abstract planning. To enable rigorous evaluation, we introduce MultiRoomR, a comprehensive benchmark featuring diverse multi-room environments with varying degrees of partial observability (10-30% initial visibility), blocked paths, obstructed goals, and multiple objects (10-20) distributed across 2-4 rooms. Experiments demonstrate that our system effectively handles these complex scenarios while maintaining robust performance even with imperfect perception.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Interactive HOO-POMDP Visualization Section -->
<section class="section" style="background: #f9f9f9; padding-top: 2rem; padding-bottom: 2rem;">
  <div class="container">
    <div class="hoo-interactive-container">
      <div class="hoo-title">Interactive: How HOO-POMDP Plans Under Uncertainty</div>
      <p class="hoo-subtitle">Multi-room rearrangement with partial observability. Hover over elements to explore the hierarchical planning system.</p>

      <div class="hoo-layout">
        <!-- LEFT: Environment Panel -->
        <div class="hoo-env-panel">
          <h4>Multi-Room Environment</h4>
          <svg id="hoo-env-svg" width="310" height="250" viewBox="0 0 310 250">
            <defs>
              <pattern id="hoo-grid" width="20" height="20" patternUnits="userSpaceOnUse">
                <rect width="20" height="20" fill="none" stroke="#e8e8e8" stroke-width="0.5"/>
              </pattern>
            </defs>

            <!-- Room 1 (Living Room) -->
            <g class="hoo-room" data-room="room1" data-tip="Living Room: Contains O1 (mug) and O2 (book). Robot starts here with egocentric view showing ~60% of room.">
              <rect x="5" y="5" width="145" height="115" fill="#fff9c4" stroke="#bbb" stroke-width="1.5" rx="3"/>
              <rect x="5" y="5" width="145" height="115" fill="url(#hoo-grid)" opacity="0.3"/>
              <text x="75" y="22" class="hoo-room-label" text-anchor="middle">Living Room</text>
            </g>

            <!-- Room 2 (Kitchen) -->
            <g class="hoo-room" data-room="room2" data-tip="Kitchen: Contains O3 (plate) and O4 (bowl). Goal location for O2. Partially explored.">
              <rect x="160" y="5" width="145" height="115" fill="#e1f5fe" stroke="#bbb" stroke-width="1.5" rx="3"/>
              <rect x="160" y="5" width="145" height="115" fill="url(#hoo-grid)" opacity="0.3"/>
              <text x="232" y="22" class="hoo-room-label" text-anchor="middle">Kitchen</text>
            </g>

            <!-- Room 3 (Bedroom) -->
            <g class="hoo-room" data-room="room3" data-tip="Bedroom: Contains O5 (lamp) but location uncertain. Robot needs to explore this room.">
              <rect x="5" y="130" width="145" height="115" fill="#fce4ec" stroke="#bbb" stroke-width="1.5" rx="3"/>
              <rect x="5" y="130" width="145" height="115" fill="url(#hoo-grid)" opacity="0.3"/>
              <text x="75" y="147" class="hoo-room-label" text-anchor="middle">Bedroom</text>
            </g>

            <!-- Room 4 (Bathroom) -->
            <g class="hoo-room" data-room="room4" data-tip="Bathroom: Goal location for O1 (mug). Currently empty. Robot must navigate here after picking O1.">
              <rect x="160" y="130" width="145" height="115" fill="#e8f5e9" stroke="#bbb" stroke-width="1.5" rx="3"/>
              <rect x="160" y="130" width="145" height="115" fill="url(#hoo-grid)" opacity="0.3"/>
              <text x="232" y="147" class="hoo-room-label" text-anchor="middle">Bathroom</text>
            </g>

            <!-- Doorways -->
            <rect x="65" y="117" width="30" height="16" fill="#fff" stroke="#999" stroke-width="1" rx="2"/>
            <text x="80" y="128" font-size="6" fill="#666" text-anchor="middle">door</text>
            <rect x="147" y="55" width="16" height="30" fill="#fff" stroke="#999" stroke-width="1" rx="2"/>
            <rect x="215" y="117" width="30" height="16" fill="#fff" stroke="#999" stroke-width="1" rx="2"/>
            <text x="230" y="128" font-size="6" fill="#666" text-anchor="middle">door</text>

            <!-- Blocked path -->
            <line class="hoo-path hoo-path-blocked" x1="80" y1="123" x2="80" y2="140" stroke="#e53935" stroke-width="2"/>
            <text x="95" y="132" font-size="6" fill="#e53935" font-weight="600">BLOCKED</text>

            <!-- Object O1 (Mug) -->
            <g class="hoo-object" data-obj="O1" data-tip="O1 (Mug): High belief (92%) at Living Room. Goal: Bathroom. Ready to pick once O2 is moved.">
              <circle cx="45" cy="65" r="14" fill="#64b5f6" stroke="#1565c0" stroke-width="2"/>
              <text x="45" y="69" text-anchor="middle" font-size="9" fill="white" font-weight="700">O1</text>
              <text x="45" y="58" text-anchor="middle" font-size="6" fill="#1565c0">mug</text>
            </g>
            <rect class="hoo-goal-marker" x="190" y="170" width="24" height="24" stroke="#1565c0" stroke-width="2" rx="3"/>
            <text x="202" y="200" font-size="6" fill="#1565c0" text-anchor="middle">O1 goal</text>

            <!-- Object O2 (Book) - BLOCKING -->
            <g class="hoo-object" data-obj="O2" data-tip="O2 (Book): BLOCKING doorway! Belief 88%. Must move to Kitchen before O1 can reach Bathroom.">
              <rect x="63" y="95" width="24" height="18" rx="3" fill="#ff7043" stroke="#e64a19" stroke-width="2"/>
              <text x="75" y="107" text-anchor="middle" font-size="8" fill="white" font-weight="700">O2</text>
              <text x="75" y="88" text-anchor="middle" font-size="6" fill="#e64a19">book</text>
            </g>
            <rect class="hoo-goal-marker" x="238" y="43" width="24" height="18" stroke="#e64a19" stroke-width="2" rx="3"/>
            <text x="250" y="72" font-size="6" fill="#e64a19" text-anchor="middle">O2 goal</text>

            <!-- Object O3 (Plate) - uncertain -->
            <g class="hoo-object" data-obj="O3" data-tip="O3 (Plate): Location uncertain. 65% belief at (200,75), 25% at alternate location. Needs verification.">
              <circle cx="200" cy="75" r="13" fill="#ab47bc" stroke="#7b1fa2" stroke-width="2" opacity="0.7"/>
              <text x="200" y="79" text-anchor="middle" font-size="8" fill="white" font-weight="700">O3</text>
              <circle cx="270" cy="50" r="8" fill="#ab47bc" stroke="#7b1fa2" stroke-width="1" opacity="0.3"/>
              <text x="270" y="53" text-anchor="middle" font-size="6" fill="#7b1fa2">?</text>
            </g>

            <!-- Object O4 (Bowl) -->
            <g class="hoo-object" data-obj="O4" data-tip="O4 (Bowl): At Kitchen (180,50). Belief 78%. Goal: Living Room. Potential swap scenario with incoming objects.">
              <ellipse cx="180" cy="50" rx="12" ry="8" fill="#26a69a" stroke="#00796b" stroke-width="2"/>
              <text x="180" y="53" text-anchor="middle" font-size="7" fill="white" font-weight="700">O4</text>
            </g>
            <ellipse class="hoo-goal-marker" cx="120" cy="75" rx="12" ry="8" stroke="#00796b" stroke-width="2"/>

            <!-- Object O5 (Lamp) - very uncertain -->
            <g class="hoo-object" data-obj="O5" data-tip="O5 (Lamp): HIGH UNCERTAINTY! Belief spread: 35% LocA, 40% LocB, 25% elsewhere. Robot must explore Bedroom.">
              <polygon points="50,175 60,195 40,195" fill="#9e9e9e" stroke="#616161" stroke-width="1.5" opacity="0.5"/>
              <text x="50" y="188" text-anchor="middle" font-size="6" fill="#616161">O5?</text>
              <polygon points="100,195 110,215 90,215" fill="#9e9e9e" stroke="#616161" stroke-width="1" opacity="0.3"/>
              <text x="100" y="208" text-anchor="middle" font-size="5" fill="#999">?</text>
            </g>

            <!-- Robot -->
            <g class="hoo-robot" data-obj="robot" data-tip="Robot: Position (110,55) in Living Room. Facing East. Currently sees O1 and O2. Planning PickPlace(O2) to unblock path.">
              <circle cx="110" cy="55" r="12" fill="#42a5f5" stroke="#1565c0" stroke-width="2.5"/>
              <text x="110" y="59" text-anchor="middle" font-size="9" font-weight="700" fill="white">R</text>
              <polygon points="122,55 128,50 128,60" fill="#1565c0"/>
              <path d="M122,55 L145,35 L145,75 Z" fill="#42a5f5" opacity="0.15"/>
            </g>

            <!-- Planned path -->
            <path class="hoo-path" d="M110,55 L75,55 L75,95" stroke="#5b6abf" stroke-width="1.5" fill="none"/>
            <text x="92" y="78" font-size="5.5" fill="#5b6abf">planned</text>
          </svg>

          <div class="hoo-ego-view">
            <span class="hoo-ego-label">Egocentric View (RGB)</span>
            <svg width="140" height="70" viewBox="0 0 140 70">
              <rect x="0" y="0" width="140" height="70" fill="#3a3a3a" rx="3"/>
              <rect x="10" y="30" width="35" height="30" fill="#795548" opacity="0.6" rx="2"/>
              <circle cx="35" cy="40" r="8" fill="#64b5f6" stroke="#1565c0" stroke-width="1"/>
              <text x="35" y="43" text-anchor="middle" font-size="6" fill="white">O1</text>
              <rect x="70" y="25" width="20" height="15" fill="#ff7043" rx="2"/>
              <text x="80" y="35" text-anchor="middle" font-size="5" fill="white">O2</text>
              <rect x="100" y="15" width="30" height="55" fill="#666" rx="2"/>
              <text x="70" y="65" font-size="6" fill="#888" text-anchor="middle">Detected: O1 ✓, O2 ✓</text>
            </svg>
          </div>
        </div>

        <div class="hoo-arrow">&#8594;</div>

        <!-- MIDDLE: Belief Panel -->
        <div class="hoo-belief-panel">
          <h4>Object-Oriented Belief</h4>

          <div class="hoo-belief-section" data-belief-obj="O1">
            <div class="hoo-belief-title">O1 (Mug)</div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:92%; background:#4caf50;"></div></div>
              <span class="hoo-belief-bar-val">0.92</span>
            </div>
            <div style="font-size:0.65em; color:#666; margin-left:60px;">Living (35,65)</div>
          </div>

          <div class="hoo-belief-section" data-belief-obj="O2">
            <div class="hoo-belief-title">O2 (Book) <span style="color:#e53935;">⚠ blocking</span></div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:88%; background:#81c784;"></div></div>
              <span class="hoo-belief-bar-val">0.88</span>
            </div>
            <div style="font-size:0.65em; color:#666; margin-left:60px;">Living (75,105)</div>
          </div>

          <div class="hoo-belief-section" data-belief-obj="O3">
            <div class="hoo-belief-title">O3 (Plate) <span style="color:#ff9800;">uncertain</span></div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc A</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:65%; background:#ce93d8;"></div></div>
              <span class="hoo-belief-bar-val">0.65</span>
            </div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc B</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:25%; background:#e1bee7;"></div></div>
              <span class="hoo-belief-bar-val">0.25</span>
            </div>
          </div>

          <div class="hoo-belief-section" data-belief-obj="O4">
            <div class="hoo-belief-title">O4 (Bowl)</div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:78%; background:#80cbc4;"></div></div>
              <span class="hoo-belief-bar-val">0.78</span>
            </div>
          </div>

          <div class="hoo-belief-section" data-belief-obj="O5">
            <div class="hoo-belief-title">O5 (Lamp) <span style="color:#e53935;">needs search</span></div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc A</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:35%; background:#bdbdbd;"></div></div>
              <span class="hoo-belief-bar-val">0.35</span>
            </div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc B</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:40%; background:#bdbdbd;"></div></div>
              <span class="hoo-belief-bar-val">0.40</span>
            </div>
          </div>

          <div class="hoo-belief-section" data-belief-obj="robot">
            <div class="hoo-belief-title">Robot Position</div>
            <div class="hoo-belief-bar">
              <span class="hoo-belief-bar-label">Loc</span>
              <div class="hoo-belief-bar-track"><div class="hoo-belief-bar-fill" style="width:100%; background:#42a5f5;"></div></div>
              <span class="hoo-belief-bar-val">1.00</span>
            </div>
          </div>
        </div>

        <div class="hoo-arrow">&#8594;</div>

        <!-- RIGHT: Planner Panel -->
        <div class="hoo-planner-panel">
          <h4>Hierarchical Planning Pipeline</h4>

          <div class="hoo-flow-container">
            <div class="hoo-flow-stage" data-stage="perception" data-tip="Perception: YOLOv10 detector processes RGB+Depth images. Outputs observations z for each object in the field of view.">
              <h5>1. Perception System</h5>
              <div class="hoo-flow-content">
                <div style="font-size:0.8em; color:#555;">
                  <strong>Input:</strong> RGB + Depth<br>
                  <span style="color:#4caf50;">✓ O1, O2 detected</span>
                  <span style="color:#ff9800;">○ O3-O5 not in view</span>
                </div>
              </div>
            </div>

            <div class="hoo-flow-arrow">↓</div>

            <div class="hoo-flow-stage" data-stage="belief" data-tip="Belief Update: Updates probability distribution over object locations using observation model P(z|s). Factored independently per object for scalability.">
              <h5>2. Belief Update (Object-Factored)</h5>
              <div class="hoo-flow-content">
                <div style="font-size:0.8em; color:#555;">
                  b'(s') = η · P(z|s') · Σ T(s,a,s') · b(s)<br>
                  <span style="font-size:0.85em; color:#666;">Independent update: b = Π b<sub>i</sub></span>
                </div>
              </div>
            </div>

            <div class="hoo-flow-arrow">↓</div>

            <div class="hoo-flow-stage active" data-stage="abstraction" data-tip="Abstraction: Converts belief to discrete state. Samples pick/place locations. Key insight: abstracts continuous belief into tractable representation.">
              <h5>3. State Abstraction</h5>
              <div class="hoo-flow-content">
                <div style="font-size:0.8em; background:#f0fff0; padding:6px; border-radius:4px;">
                  <strong>Abstract State:</strong> s<sub>i</sub> = (loc, pick, place_locs, is_held, at_goal)<br>
                  <strong>O2:</strong> pick=(75,105), place=[(250,55)]
                </div>
              </div>
            </div>

            <div class="hoo-flow-arrow">↓</div>

            <div class="hoo-flow-stage active" data-stage="planner" data-tip="OO-POMDP Planner: PO-UCT searches over abstract actions (Move, Rotate, PickPlace). Outputs sub-goal maximizing expected reward. Depth=12 for lookahead.">
              <h5>4. OO-POMDP Planner (PO-UCT)</h5>
              <div class="hoo-flow-content">
                <div style="margin-bottom:6px;">
                  <span class="hoo-subgoal hoo-subgoal-move">Move<sub>AB</sub></span>
                  <span class="hoo-subgoal hoo-subgoal-rotate">Rotate<sub>θ</sub></span>
                  <span class="hoo-subgoal hoo-subgoal-pickplace">PickPlace</span>
                </div>
                <div style="background:#fff3e0; padding:6px; border-radius:4px; border-left:3px solid #ff9800;">
                  <strong>Selected:</strong>
                  <span class="hoo-subgoal hoo-subgoal-pickplace">PickPlace(O2, Kitchen)</span><br>
                  <span style="font-size:0.75em; color:#666;">Reason: O2 blocks path. Move it first.</span>
                </div>
              </div>
            </div>

            <div class="hoo-flow-arrow">↓</div>

            <div class="hoo-flow-stage pending" data-stage="lowlevel" data-tip="Low-Level Policy: Executes sub-goal using A* navigation and RL Pick/Place policies trained with PPO. Outputs primitive actions for simulator.">
              <h5>5. Low-Level Policy Executor</h5>
              <div class="hoo-flow-content">
                <div style="font-size:0.8em;">
                  <strong>PickPlace(O2, Kitchen):</strong><br>
                  1. <span style="color:#5b6abf;">Navigate</span> to O2 [A*]<br>
                  2. <span style="color:#2e7d32;">Pick</span> O2 [RL]<br>
                  3. <span style="color:#5b6abf;">Navigate</span> to Kitchen [A*]<br>
                  4. <span style="color:#2e7d32;">Place</span> O2 [RL]
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="hoo-legend">
        <div class="hoo-legend-item"><div class="hoo-legend-dot" style="background:#42a5f5;"></div>Robot</div>
        <div class="hoo-legend-item"><div class="hoo-legend-dot" style="background:#64b5f6;"></div>Object (high belief)</div>
        <div class="hoo-legend-item"><div class="hoo-legend-dot" style="background:#9e9e9e;"></div>Object (uncertain)</div>
        <div class="hoo-legend-item"><div class="hoo-legend-rect" style="background:#ff7043;"></div>Blocking object</div>
        <div class="hoo-legend-item"><div class="hoo-legend-rect" style="border:2px dashed #1565c0; background:none;"></div>Goal location</div>
        <div class="hoo-legend-item"><div class="hoo-legend-rect" style="background:#fff9c4; border:1px solid #bbb;"></div>Explored room</div>
        <div class="hoo-legend-item"><div class="hoo-legend-rect" style="background:#fce4ec; border:1px solid #bbb;"></div>Unexplored room</div>
      </div>

      <p class="hoo-instructions">Hover over rooms, objects, belief bars, or planning stages to see connections. The planner reasons about blocked paths and uncertainty to select optimal sub-goals.</p>
    </div>
  </div>
  <div class="hoo-tooltip" id="hoo-tooltip"></div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-three-quarters">

        <div class="section-container">
            <h2 class="title is-2">Why POMDPs for Rearrangement?
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>
            
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Embodied AI rearrangement is a fundamental challenge:</b> It's a core task for home assistant robots.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Multi-object rearrangement with egocentric vision requires integrating perception, planning, navigation, and manipulation, especially in partially observable, multi-room settings common in everyday life.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Real-world tasks are complex:</b> Scenarios involve blocked paths, obstructed goals, and spatial dependencies.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Simple greedy planners or fixed skill sequences can't determine the optimal order to move objects. They fail when spatial reasoning is required, such as moving one object to unblock another's path or goal.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Most agents fail with severe partial observability:</b> Real-world objects are not all visible at the start.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Existing work often assumes single rooms or high initial visibility (e.g., >60%). Realistic tasks, like tidying a house, require agents to actively search for objects that are not initially visible.</p>
                </div>
            </div>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">The Problem with Existing Approaches
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>
            
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>End-to-end RL methods struggle to scale:</b> Pure RL fails in complex, long-horizon rearrangement tasks.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Reinforcement Learning (RL) methods are not well-suited for the long-horizon, sparse-reward nature of multi-object rearrangement and struggle to scale to complex, multi-room scenarios.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Greedy/Modular planners are not optimal:</b> Hand-coded systems lack the flexibility to handle novel problems.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>These approaches often use predetermined skill sequences or simple greedy planners. This restricts their ability to find optimal object interaction orders or handle new challenges like blocked paths without extensive retraining.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Existing benchmarks are too simple:</b> Datasets like RoomR don't test for complex, multi-room challenges.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Current datasets are often limited to single-room settings with only a few objects. They fail to test for challenges like severe partial observability, large object counts (10-20), or complex spatial dependencies (blocked paths).</p>
                </div>
            </div>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">HOO-POMDP's Key Insight
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Hierarchical Planning:</b> Separate high-level strategy (what to do) from low-level execution (how to do it).
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>A high-level POMDP planner handles strategic, abstract decisions (e.g., 'search for object X', 'move object Y to goal'). This frees it from low-level details, which are handled by specialized policies (e.g., 'navigate to (x,y)', 'pick object').</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Object-Oriented Beliefs:</b> Factor the problem by object to make it scalable.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Instead of one massive, intractable belief state, the system maintains a separate, independent belief (a probability distribution over locations) for each object. This leverages Object-Oriented POMDPs (OO-POMDPs) to make planning scalable.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Jointly Optimize Exploration and Manipulation:</b> The planner reasons under uncertainty to make smart decisions.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The high-level planner can optimally decide whether it's more efficient to continue searching for a missing object or to rearrange an object it has already found, based on its current belief state.</p>
                </div>
            </div>
            
            <img src="./resources/hoo_pomdp_example.png" alt="HOO-POMDP Example Scenario" class="visible-image" style="width: 80%; background-color: white;">
            <p class="table-caption" style="text-align: center; margin-top: -10px;">Example of complex spatial reasoning: Object 2 blocks the path for Object 3, and Object 3 blocks the goal for Object 1. The planner must find the sequence: Move 2, then 3, then 1.</p>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">Method Overview
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>A cyclic system:</b> Perception → Belief Update → Abstract Planning → Policy Execution.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The agent executes a low-level action, gets a new RGB/Depth observation, and uses it to update its object-factored belief state. This belief is then abstracted into a discrete state for the high-level POMDP planner, which chooses the next sub-goal (abstract action).</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Abstraction bridges the gap:</b> Converts continuous belief probabilities into a discrete planner state.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>The belief state (probabilities over all grid cells) is abstracted into a discrete state for the planner. This includes sampling reachable `pick` locations (based on belief) and `place` locations (near goals/receptacles).</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Low-Level Policies execute sub-goals:</b> A* for navigation, trained RL agents for interaction.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Abstract actions like `Move_AB` or `Rotate` are executed by an A* pathfinder. The `PickPlace` action is a 3-stage policy: an RL model to Pick, A* to navigate, and another RL model to Place.</p>
                </div>
            </div>
            
            <img src="./resources/hoo_pomdp_framework.png" alt="HOO-POMDP Framework Diagram" class="visible-image" style="width: 90%;">
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">Results
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Outperforms all baselines:</b> HOO-POMDP is more robust and flexible than RL (VRR) and hand-coded (FHC, MSS) methods.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Our principled planning approach significantly outperforms baselines. VRR (pure RL) fails to scale. FHC (heuristic) fails to handle detector uncertainty. MSS (rigid explore-then-rearrange) cannot handle blocked paths.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Introduces MultiRoomR:</b> A new, challenging benchmark with 2-4 rooms, 10-20 objects, and blocked paths.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>We introduce the MultiRoomR dataset (400 configurations) to test scenarios existing datasets don't: severe partial observability (10-30% initial visibility), larger object counts, and complex spatial dependencies (50% of scenes have blocked paths).</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header">
                    <span class="header-text">
                        <b>Handles uncertainty robustly:</b> Performance is close to the "Perfect Detector" oracle, even with 50-60% detector success.
                    </span>
                    <span class="icon">
                        <i class="fas fa-chevron-down"></i>
                    </span>
                </div>
                <div class="dropdown-content">
                    <p>Despite imperfect perception, HOOP solves many problems. The small performance gap between HOOP and the Perfect Detector (PD) oracle shows that our POMDP planner effectively handles partial observability and detector failures.</p>
                </div>
            </div>

            <div class="table-caption" style="margin-top: 25px;">
                <b>Table 1 (from paper):</b> Main comparison of HOO-POMDP (HOOP) against Baselines, Ablations, and Oracles across all datasets.
            </div>
            <div class="results-table-container">
                <table class="results-table" style="min-width: 1200px;">
                    <thead>
                        <tr>
                            <th rowspan="3" class="domain-col">Dataset</th>
                            <th rowspan="3" class="diff-col">Objs</th>
                            <th rowspan="3" class="diff-col">#BP</th>
                            <th rowspan="3" class="diff-col">#Rm</th>
                            <th rowspan="3" class="diff-col">#V</th>
                            <th colspan="3" class="header-ours"><b>HOOP (Ours)</b></th>
                            <th colspan="9" class="header-baselines">Baselines</th>
                            <th colspan="3" class="header-ablations">Ablation</th>
                            <th colspan="6" class="header-oracles">Oracle Settings</th>
                        </tr>
                        <tr>
                            <th colspan="3"><b>HOOP</b></th>
                            <th colspan="3">FHC</th>
                            <th colspan="3">VRR</th>
                            <th colspan="3">MSS</th>
                            <th colspan="3">HOOP-HP</th>
                            <th colspan="3">PK</th>
                            <th colspan="3">PD</th>
                        </tr>
                        <tr>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                            <th>SS↑</th><th>OS↑</th><th>TA↓</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="domain-col">RoomR</td><td class="diff-col">5</td><td>0</td><td>1</td><td>3-4</td>
                            <td class="ss-med"><b>49</b></td><td class="os-med"><b>71</b></td><td><b>211</b></td>
                            <td class="ss-med">38</td><td class="os-light">58</td><td>269</td>
                            <td>7</td><td>31</td><td>256</td>
                            <td class="ss-light">21</td><td class="os-light">44</td><td>267</td>
                            <td>13</td><td>33</td><td>302</td>
                            <td class="ss-dark">63</td><td class="os-dark">88</td><td>176</td>
                            <td class="ss-dark">62</td><td class="os-dark">87</td><td>189</td>
                        </tr>
                        <tr>
                            <td class="domain-col">Proc</td><td class="diff-col">5</td><td>0</td><td>2</td><td>2-3</td>
                            <td class="ss-med"><b>46</b></td><td class="os-med"><b>68</b></td><td><b>352</b></td>
                            <td class="ss-med">32</td><td class="os-med">61</td><td>411</td>
                            <td>2</td><td>19</td><td>382</td>
                            <td>14</td><td>29</td><td>395</td>
                            <td>9</td><td>29</td><td>410</td>
                            <td class="ss-dark">60</td><td class="os-dark">82</td><td>203</td>
                            <td class="ss-dark">60</td><td class="os-dark">81</td><td>269</td>
                        </tr>
                        <tr><td colspan="22" style="background-color: #f0f0f0; height: 8px; border: 0;"></td></tr>
                        <tr>
                            <td rowspan="8" class="domain-col">Multi RoomR</td>
                            <td rowspan="2" class="diff-col">10</td><td>0</td><td>2</td><td>2-3</td>
                            <td class="ss-med"><b>32</b></td><td class="os-med"><b>65</b></td><td><b>710</b></td>
                            <td class="ss-light">20</td><td class="os-light">44</td><td>931</td>
                            <td>0</td><td>13</td><td>NA</td>
                            <td>8</td><td>25</td><td>920</td>
                            <td>5</td><td>25</td><td>1029</td>
                            <td class="ss-med">41</td><td class="os-dark">78</td><td>457</td>
                            <td class="ss-med">40</td><td class="os-dark">78</td><td>529</td>
                        </tr>
                        <tr>
                            <td>1</td><td>2</td><td>2-3</td>
                            <td class="ss-light"><b>21</b></td><td class="os-light"><b>49</b></td><td><b>789</b></td>
                            <td>12</td><td>38</td><td>993</td>
                            <td>0</td><td>9</td><td>NA</td>
                            <td>NC</td><td>NC</td><td>NC</td>
                            <td>2</td><td>19</td><td>1092</td>
                            <td class="ss-med">33</td><td class="os-med">69</td><td>489</td>
                            <td class="ss-light">29</td><td class="os-med">67</td><td>587</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="diff-col">10</td><td>0</td><td>3-4</td><td>1-2</td>
                            <td class="ss-med"><b>30</b></td><td class="os-med"><b>62</b></td><td><b>1189</b></td>
                            <td class="ss-light">19</td><td>34</td><td>1345</td>
                            <td>0</td><td>8</td><td>NA</td>
                            <td>0</td><td>14</td><td>NA</td>
                            <td>3</td><td>16</td><td>1408</td>
                            <td class="ss-med">39</td><td class="os-dark">75</td><td>726</td>
                            <td class="ss-med">37</td><td class="os-med">74</td><td>834</td>
                        </tr>
                        <tr>
                            <td>1</td><td>3-4</td><td>1-2</td>
                            <td class="ss-light"><b>18</b></td><td class="os-light"><b>44</b></td><td><b>1321</b></td>
                            <td>9</td><td>26</td><td>1490</td>
                            <td>0</td><td>5</td><td>NA</td>
                            <td>NC</td><td>NC</td><td>NC</td>
                            <td>1</td><td>7</td><td>1549</td>
                            <td class="ss-med">32</td><td class="os-med">70</td><td>789</td>
                            <td class="ss-med">31</td><td class="os-med">70</td><td>985</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="diff-col">15</td><td>0</td><td>3-4</td><td>2-3</td>
                            <td class="ss-light"><b>22</b></td><td class="os-light"><b>59</b></td><td><b>1228</b></td>
                            <td>12</td><td>31</td><td>1605</td>
                            <td>0</td><td>9</td><td>NA</td>
                            <td>0</td><td>11</td><td>NA</td>
                            <td>0</td><td>5</td><td>NA</td>
                            <td class="ss-med">32</td><td class="os-dark">78</td><td>895</td>
                            <td class="ss-med">30</td><td class="os-med">74</td><td>921</td>
                        </tr>
                        <tr>
                            <td>1</td><td>3-4</td><td>2-3</td>
                            <td>14</td><td class="os-light"><b>41</b></td><td><b>1416</b></td>
                            <td>7</td><td>23</td><td>1886</td>
                            <td>0</td><td>5</td><td>NA</td>
                            <td>NC</td><td>NC</td><td>NC</td>
                            <td>0</td><td>6</td><td>NA</td>
                            <td class="ss-light">29</td><td class="os-med">71</td><td>988</td>
                            <td class="ss-light">25</td><td class="os-med">69</td><td>965</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="diff-col">20</td><td>0</td><td>3-4</td><td>2-4</td>
                            <td class="ss-light"><b>17</b></td><td class="os-light"><b>55</b></td><td><b>1621</b></td>
                            <td>0</td><td>18</td><td>NA</td>
                            <td>0</td><td>6</td><td>NA</td>
                            <td>0</td><td>9</td><td>NA</td>
                            <td>0</td><td>5</td><td>NA</td>
                            <td class="ss-light">27</td><td class="os-dark">75</td><td>1168</td>
                            <td class="ss-light">27</td><td class="os-med">74</td><td>1197</td>
                        </tr>
                        <tr>
                            <td>1</td><td>3-4</td><td>2-4</td>
                            <td>10</td><td>36</td><td><b>1786</b></td>
                            <td>0</td><td>11</td><td>NA</td>
                            <td>0</td><td>4</td><td>NA</td>
                            <td>NC</td><td>NC</td><td>NC</td>
                            <td>0</td><td>4</td><td>NA</td>
                            <td class="ss-light">22</td><td class="os-med">70</td><td>1307</td>
                            <td class="ss-light">20</td><td class="os-med">68</td><td>1336</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-caption" style="margin-top: 25px;">
                <b>Table 3 (from paper):</b> MCTS search depth ablation. A greedy depth of 1 (HOOP-MCTS 1) fails.
            </div>
            <div class="results-table-container">
                <table class="results-table" style="min-width: 800px;">
                    <thead>
                        <tr>
                            <th class="domain-col">Dataset</th>
                            <th class="diff-col">Objs</th>
                            <th class="diff-col">#BG</th>
                            <th class="diff-col">#Sw</th>
                            <th class="diff-col">#BP</th>
                            <th class="diff-col">#Rm</th>
                            <th class="diff-col">#V</th>
                            <th colspan="4">HOOP (Depth 12)</th>
                            <th colspan="3">HOOP-MCTS 1 (Depth 1)</th>
                        </tr>
                        <tr>
                            <th></th><th></th><th></th><th></th><th></th><th></th><th></th>
                            <th>SS↑</th><th>OSR↑</th><th>TA↓</th><th>Time(m)↓</th>
                            <th>SS↑</th><th>OSR↑</th><th>TA↓</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="domain-col">RoomR</td><td class="diff-col">5</td><td>1</td><td>0</td><td>0</td><td>1</td><td>3-4</td>
                            <td class="ss-med"><b>49</b></td><td class="os-med"><b>71</b></td><td><b>211</b></td><td><b>1.61</b></td>
                            <td>8</td><td>26</td><td>565</td>
                        </tr>
                        <tr>
                            <td class="domain-col">Proc</td><td class="diff-col">5</td><td>1D</td><td>0</td><td>0</td><td>2</td><td>2-3</td>
                            <td class="ss-med"><b>46</b></td><td class="os-med"><b>68</b></td><td><b>352</b></td><td><b>3.42</b></td>
                            <td>2</td><td>12</td><td>875</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="domain-col">Multi RoomR</td>
                            <td rowspan="2" class="diff-col">10</td><td>1</td><td>1</td><td>0</td><td>2</td><td>2-3</td>
                            <td class="ss-med"><b>32</b></td><td class="os-med"><b>65</b></td><td><b>710</b></td><td><b>7.89</b></td>
                            <td>0</td><td>7</td><td>NA</td>
                        </tr>
                        <tr>
                            <td>2</td><td>1</td><td>1</td><td>2</td><td>2-3</td>
                            <td class="ss-light"><b>21</b></td><td class="os-light"><b>49</b></td><td><b>789</b></td><td><b>8.98</b></td>
                            <td>0</td><td>3</td><td>NA</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">Key Findings from Ablations
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Hierarchical planning is critical:</b> A "flat" planner (HOOP-HP) fails completely, with 0-9% success.</div>
                <div class="dropdown-content">
                    <p>The `HOOP-HP` ablation, which removes the hierarchy and plans directly in the low-level action space, shows a 'substantial performance gap'. Table 1 shows its Scene Success drops to near-zero on complex problems, proving the low-level action space is intractable.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Strategic lookahead is essential:</b> A greedy MCTS planner (depth 1) fails to solve almost any problems.</div>
                <div class="dropdown-content">
                    <p>As shown in Table 3, an MCTS search depth of 1 (HOOP-MCTS 1) is too myopic and fails to get a useful reward signal. Our full model uses a depth of 12, showing that lookahead is necessary to make strategic decisions.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Principled planning > simple heuristics:</b> The FHC baseline is brittle and cannot handle uncertainty or complex paths.</div>
                <div class="dropdown-content">
                    <p>The `FHC` (Frontier Exploration) baseline uses a simple 'explore-then-rearrange' heuristic. It fails to handle object detection failures because it's not belief-based, and it cannot reason about complex spatial dependencies like blocked paths.</p>
                </div>
            </div>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">Technical Details
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>

            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Perception:</b> YoloV10 trained on 10k images from 500 AI2Thor scenes.</div>
                <div class="dropdown-content">
                    <p>We trained a YoloV10-Large (25M parameters) for 500 epochs. The resulting True Positive (TP) and False Positive (FP) rates for each object class (see Table 2 in paper) are used to build the probabilistic observation model for the POMDP.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Planner:</b> PO-UCT (Partially Observable UCT) searches over action-observation histories.</div>
                <div class="dropdown-content">
                    <p>The planner samples a state from the current belief, builds a search tree using UCT action selection, and runs rollouts to estimate value. The full algorithm is provided in the paper's appendix (Algorithm 3).</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Low-Level Policies:</b> A* for navigation, PPO-trained RL agents for Pick/Place.</div>
                <div class="dropdown-content">
                    <p>The RL policies were trained for 5 million steps using PPO. The Pick and Place policies are given navigation actions so they can finely adjust the agent's position before an interaction, making them more robust.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>New Dataset (MultiRoomR):</b> 400 configurations, 2-4 rooms, 10-20 objects.</div>
                <div class="dropdown-content">
                    <p>We introduce this new benchmark to test more realistic scenarios. Key features include:
                    <ul>
                        <li><b>Severe Partial Observability:</b> Only 10-30% of objects are visible at the start.</li>
                        <li><b>Complex Dependencies:</b> 50% of scenes contain blocked paths, and others include blocked goals and object swaps.</li>
                        <li><b>Scalability:</b> Tasks involve 10, 15, or 20 objects, forcing planners to be efficient.</li>
                    </ul>
                    </p>
                </div>
            </div>
            <hr>
        </div>

        <div class="section-container">
            <h2 class="title is-2">Why This Matters
                <a class="section-toggle" data-action="expand">[Expand All]</a>
            </h2>
            
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>A scalable, robust solution for a core Embodied AI task:</b> Planning for home assistant robots.</div>
                <div class="dropdown-content">
                    <p>This provides a practical and scalable method for multi-object rearrangement, a key skill for any future home assistant robot. It robustly handles uncertainty and complexity where pure RL and simple heuristics fail.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>Integrates hierarchical abstraction with formal POMDP planning:</b> A principled way to combine strategy and control.</div>
                <div class="dropdown-content">
                    <p>Our work shows how to effectively combine high-level, strategic planning under uncertainty (POMDP) with low-level continuous control (RL/A* policies). The hierarchy and abstraction are key to making the problem tractable.</p>
                </div>
            </div>
            <div class="dropdown-item">
                <div class="dropdown-header"><span class="icon">▶</span><b>A new, challenging benchmark (MultiRoomR) for the community:</b> Pushes research beyond simple problems.</div>
                <div class="dropdown-content">
                    <p>By releasing MultiRoomR, we move the community beyond simplistic single-room datasets. We provide a benchmark to test systems on more realistic challenges, including severe partial observability and complex spatial dependencies.</p>
                </div>
            </div>
        </div>

      </div>
    </div>
  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container content">
    <h2 class="title">BibTeX</h2>
    <pre><code>
@article{mangannavar2024hierarchical,
  title={Hierarchical Object-Oriented POMDP Planning for Object Rearrangement},
  author={Mangannavar, Rajesh and Fern, Alan and Tadepalli, Prasad},
  journal={arXiv preprint arXiv:2412.01348},
  year={2024}
}
</code></pre>
  </div>
</section>


<script src="./static/js/isInViewport.min.js"></script>
<script src="./static/js/bulma-carousel.min.js"></script>
<script src="./static_js/bulma-slider.min.js"></script>
<script src="./static_js/index.js"></script>

<script>
$(document).ready(function() {
    
    // --- Individual Dropdown Toggle ---
    $('.dropdown-header').click(function() {
        $(this).toggleClass('active');
        var content = $(this).next('.dropdown-content');
        content.slideToggle(200); // 200ms animation
        
        var icon = $(this).find('.icon');
        if ($(this).hasClass('active')) {
            icon.text('▼');
        } else {
            icon.text('▶');
        }
    });

    // --- Section Toggle (FIXED) ---
    $('.section-toggle').click(function(e) {
        e.preventDefault(); // Stop link behavior
        e.stopPropagation(); // Stop from triggering individual dropdown click
        
        // Find the parent .section-container for this specific toggle
        var section = $(this).closest('.section-container'); 
        
        // Find elements *only* within that section
        var headers = section.find('.dropdown-header');
        var contents = section.find('.dropdown-content');
        var action = $(this).data('action');

        if (action === 'expand') {
            headers.addClass('active');
            contents.slideDown(200);
            headers.find('.icon').text('▼');
            $(this).text('[Collapse All]');
            $(this).data('action', 'collapse');
        } else {
            headers.removeClass('active');
            contents.slideUp(200);
            headers.find('.icon').text('▶');
            $(this).text('[Expand All]');
            $(this).data('action', 'expand');
        }
    });

    // --- Global Toggle ---
    $('#global-toggle').click(function() {
        var globalAction = $(this).data('action');
        var allSectionToggles = $('.section-toggle');

        allSectionToggles.each(function() {
            var currentSectionAction = $(this).data('action');
            // Click the section toggle only if it's not already in the desired state
            if (currentSectionAction !== globalAction) {
                $(this).click();
            }
        });

        // Update the global button text and state
        if (globalAction === 'expand') {
            $(this).text('Collapse All Sections');
            $(this).data('action', 'collapse');
        } else {
            $(this).text('Expand All Sections');
            $(this).data('action', 'expand');
        }
    });

    // === HOO-POMDP Interactive Visualization ===
    (function() {
        var tooltip = document.getElementById('hoo-tooltip');
        if (!tooltip) return;

        var allObjects = document.querySelectorAll('.hoo-object, .hoo-robot');
        var allRooms = document.querySelectorAll('.hoo-room');
        var allBeliefSections = document.querySelectorAll('.hoo-belief-section');
        var allStages = document.querySelectorAll('.hoo-flow-stage');

        var objectMap = {
            'O1': { rooms: ['room1'], stages: ['perception', 'belief', 'abstraction', 'planner'], beliefs: ['O1'] },
            'O2': { rooms: ['room1'], stages: ['perception', 'belief', 'abstraction', 'planner', 'lowlevel'], beliefs: ['O2'] },
            'O3': { rooms: ['room2'], stages: ['belief', 'abstraction'], beliefs: ['O3'] },
            'O4': { rooms: ['room2'], stages: ['belief', 'abstraction'], beliefs: ['O4'] },
            'O5': { rooms: ['room3'], stages: ['belief'], beliefs: ['O5'] },
            'robot': { rooms: ['room1'], stages: ['perception', 'belief', 'planner', 'lowlevel'], beliefs: ['robot'] }
        };

        var roomMap = {
            'room1': { objects: ['O1', 'O2', 'robot'], stages: ['perception'], beliefs: ['O1', 'O2', 'robot'] },
            'room2': { objects: ['O3', 'O4'], stages: ['abstraction'], beliefs: ['O3', 'O4'] },
            'room3': { objects: ['O5'], stages: ['belief'], beliefs: ['O5'] },
            'room4': { objects: [], stages: ['planner'], beliefs: [] }
        };

        var stageMap = {
            'perception': { objects: ['O1', 'O2', 'robot'], rooms: ['room1'], beliefs: ['O1', 'O2', 'robot'] },
            'belief': { objects: ['O1', 'O2', 'O3', 'O4', 'O5', 'robot'], rooms: ['room1', 'room2', 'room3'], beliefs: ['O1', 'O2', 'O3', 'O4', 'O5', 'robot'] },
            'abstraction': { objects: ['O1', 'O2', 'O3', 'O4'], rooms: ['room1', 'room2'], beliefs: ['O1', 'O2', 'O3', 'O4'] },
            'planner': { objects: ['O2', 'robot'], rooms: ['room1', 'room2', 'room4'], beliefs: ['O2'] },
            'lowlevel': { objects: ['O2', 'robot'], rooms: ['room1', 'room2'], beliefs: ['O2'] }
        };

        function showTip(e, t) {
            tooltip.textContent = t;
            tooltip.classList.add('visible');
            tooltip.style.left = (e.clientX + 14) + 'px';
            tooltip.style.top = (e.clientY - 10) + 'px';
        }
        function moveTip(e) {
            tooltip.style.left = (e.clientX + 14) + 'px';
            tooltip.style.top = (e.clientY - 10) + 'px';
        }
        function hideTip() { tooltip.classList.remove('visible'); }

        function dimAll() {
            allObjects.forEach(function(o) { o.classList.add('hoo-dimmed'); });
            allRooms.forEach(function(r) { r.classList.add('hoo-dimmed'); });
            allBeliefSections.forEach(function(b) { b.classList.add('hoo-dimmed'); });
            allStages.forEach(function(s) { s.classList.add('hoo-dimmed'); });
        }

        function clearAll() {
            allObjects.forEach(function(o) { o.classList.remove('hoo-dimmed', 'hoo-highlighted'); });
            allRooms.forEach(function(r) { r.classList.remove('hoo-dimmed'); var rect = r.querySelector('rect'); if (rect) rect.style.strokeWidth = ''; });
            allBeliefSections.forEach(function(b) { b.classList.remove('hoo-dimmed'); b.style.background = ''; });
            allStages.forEach(function(s) { s.classList.remove('hoo-dimmed'); s.style.boxShadow = ''; });
        }

        function highlightObjects(ids) {
            ids.forEach(function(id) {
                document.querySelectorAll('.hoo-object[data-obj="'+id+'"], .hoo-robot[data-obj="'+id+'"]').forEach(function(o) {
                    o.classList.remove('hoo-dimmed');
                    o.classList.add('hoo-highlighted');
                });
            });
        }

        function highlightRooms(ids) {
            ids.forEach(function(id) {
                document.querySelectorAll('.hoo-room[data-room="'+id+'"]').forEach(function(r) {
                    r.classList.remove('hoo-dimmed');
                    var rect = r.querySelector('rect');
                    if (rect) rect.style.strokeWidth = '3px';
                });
            });
        }

        function highlightBeliefs(ids) {
            ids.forEach(function(id) {
                document.querySelectorAll('.hoo-belief-section[data-belief-obj="'+id+'"]').forEach(function(b) {
                    b.classList.remove('hoo-dimmed');
                    b.style.background = '#fffde7';
                });
            });
        }

        function highlightStages(ids) {
            ids.forEach(function(id) {
                document.querySelectorAll('.hoo-flow-stage[data-stage="'+id+'"]').forEach(function(s) {
                    s.classList.remove('hoo-dimmed');
                    s.style.boxShadow = '0 0 8px rgba(91,106,191,0.4)';
                });
            });
        }

        // Object hover
        allObjects.forEach(function(obj) {
            var id = obj.dataset.obj;
            obj.addEventListener('mouseenter', function(e) {
                var m = objectMap[id];
                if (m) { dimAll(); highlightObjects([id]); highlightRooms(m.rooms); highlightBeliefs(m.beliefs); highlightStages(m.stages); }
                showTip(e, obj.dataset.tip);
            });
            obj.addEventListener('mousemove', moveTip);
            obj.addEventListener('mouseleave', function() { clearAll(); hideTip(); });
        });

        // Room hover
        allRooms.forEach(function(room) {
            var id = room.dataset.room;
            room.addEventListener('mouseenter', function(e) {
                var m = roomMap[id];
                if (m) { dimAll(); highlightRooms([id]); highlightObjects(m.objects); highlightBeliefs(m.beliefs); highlightStages(m.stages); }
                showTip(e, room.dataset.tip);
            });
            room.addEventListener('mousemove', moveTip);
            room.addEventListener('mouseleave', function() { clearAll(); hideTip(); });
        });

        // Belief section hover
        allBeliefSections.forEach(function(bel) {
            var id = bel.dataset.beliefObj;
            bel.addEventListener('mouseenter', function(e) {
                var m = objectMap[id];
                if (m) { dimAll(); highlightBeliefs([id]); highlightObjects([id]); highlightRooms(m.rooms); highlightStages(m.stages); }
            });
            bel.addEventListener('mouseleave', function() { clearAll(); });
        });

        // Stage hover
        allStages.forEach(function(stage) {
            var id = stage.dataset.stage;
            stage.addEventListener('mouseenter', function(e) {
                var m = stageMap[id];
                if (m) { dimAll(); highlightStages([id]); highlightObjects(m.objects); highlightRooms(m.rooms); highlightBeliefs(m.beliefs); }
                showTip(e, stage.dataset.tip);
            });
            stage.addEventListener('mousemove', moveTip);
            stage.addEventListener('mouseleave', function() { clearAll(); hideTip(); });
        });
    })();

});
</script>

</body>
</html>